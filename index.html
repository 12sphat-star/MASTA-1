<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>MSTA 1</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="css/styles.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">

  <!-- Meta Pixel Code -->
  <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '810225375226789');
    fbq('track', 'PageView');
  </script>
  <noscript>
    <img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=810225375226789&ev=PageView&noscript=1"/>
  </noscript>
  <!-- End Meta Pixel Code -->

</head>

<body>

  <main>

    <!-- HERO SECTION -->
    <section id="hero">
      <h1>How Money Stays in the Family</h1>

      <p class="subhead">
        Most people don’t lose money.<br>
        It leaks — when there’s no system.
      </p>

      <div class="hero-divider"></div>

      <button id="get-book-top">Get the book</button>

      <p class="micro-copy">
        Read first. Decide later.
      </p>
    </section>

    <!-- PROBLEM SECTION -->
    <section id="problem">
      <h2>Income isn’t the problem.</h2>

      <p>
        Families work hard.<br>
        They save.<br>
        They invest.
      </p>

      <p>
        And still — money disappears over time.
      </p>

      <p>
        Not because they failed.<br>
        Because there was no system protecting it.
      </p>
    </section>

    <!-- DISARM SECTION -->
    <section id="disarm">
      <div class="disarm-left">
        <h2>This is not a sales pitch.</h2>
      </div>

      <div class="disarm-right">
        <ul>
          <li>Not insurance training</li>
          <li>Not investment advice</li>
          <li>Not complex finance theory</li>
        </ul>

        <p class="disarm-close">
          This is a simple framework for control.
        </p>
      </div>
    </section>

    <!-- INSIDE SECTION -->
    <section id="inside">
      <h2>Inside the book:</h2>

      <ul>
        <li>Why money leaks</li>
        <li>Why income isn’t the goal</li>
        <li>Why rules matter more than effort</li>
        <li>How wealth lasts beyond one person</li>
      </ul>

      <div class="inside-divider"></div>

      <button id="get-book-bottom">Get the book</button>

      <p class="signature-line">
        You don’t need to be ready.<br>
        You just need to be curious.
      </p>
    </section>

  </main>

  <!-- MODAL -->
  <div id="book-modal" class="modal hidden">
    <div class="modal-content">

      <button class="modal-close" id="close-modal">CLOSE</button>

      <h2>BEFORE YOU READ</h2>
      <p>
        This book is for clarity. Not pressure.
        Read first. Decide later.
      </p>

      <iframe
        src="https://b.12stoneboost.com/widget/form/raiE3FmrfazGaJ68QEyc"
        style="width:100%;height:900px;border:none;display:block;"
        title="MSAT 1">
      </iframe>

    </div>
  </div>

  <!-- MODAL LOGIC -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {

      const modal = document.getElementById("book-modal");
      const openBtnTop = document.getElementById("get-book-top");
      const openBtnBottom = document.getElementById("get-book-bottom");
      const closeBtn = document.getElementById("close-modal");

      if (openBtnTop) {
        openBtnTop.addEventListener("click", () => {
          modal.classList.remove("hidden");
        });
      }

      if (openBtnBottom) {
        openBtnBottom.addEventListener("click", () => {
          modal.classList.remove("hidden");
        });
      }

      if (closeBtn) {
        closeBtn.addEventListener("click", () => {
          modal.classList.add("hidden");
        });
      }

    });
  </script>

  <!-- FORM SUCCESS REDIRECT -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          if (mutation.target.innerText.includes("successfully submitted")) {
            window.location.href = "/thank-you.html";
          }
        });
      });

      const modal = document.getElementById("book-modal");
      if (modal) {
        observer.observe(modal, { childList: true, subtree: true });
      }
    });
  </script>

</body>
</html>
